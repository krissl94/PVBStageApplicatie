@using PVB_Stage_Applicatie.Models;
@{
    var menus = new[]
                {
                   new { LinkText="Home", ActionName="Index",ControllerName="Home",Roles= Rollen.Beheerder + "," + Rollen.Docent},
                    //Menu Beheerder                   
                   new { LinkText="Beheren Bedrijf", ActionName="Index",ControllerName="Bedrijf",Roles= Rollen.Beheerder},
                   new { LinkText="Beheren Stagiair", ActionName="Index",ControllerName="Stagiair",Roles= Rollen.Beheerder},                 
                   new { LinkText="Beheren Docent", ActionName="Index",ControllerName="Docent",Roles= Rollen.Beheerder},
                   new { LinkText="Beheren Periodes", ActionName="Index",ControllerName="Periode",Roles= Rollen.Beheerder},
                   new { LinkText="Beheren Koppelingen", ActionName="Index",ControllerName="Koppeling",Roles= Rollen.Beheerder},
                   //Menu Docent
                   new { LinkText="Mijn Bedrijven", ActionName="Index",ControllerName="Bedrijf",Roles= Rollen.Docent },
                   //Algemeen
                   new { LinkText="Uitloggen", ActionName="logUit",ControllerName="Login",Roles= Rollen.Beheerder+ ","+ Rollen.Docent }
                };
} 
<ul id="menuItems">
    @if (HttpContext.Current.User.Identity.IsAuthenticated)
    {
        PVB_Stage_Applicatie.Models.RolVerdeler rv = new PVB_Stage_Applicatie.Models.RolVerdeler();
        RolePrincipal rp = (RolePrincipal)User;

        String roles = rv.ZoekRolGebruiker(HttpContext.Current.User.Identity.Name);
        var links = from item in menus
                    where item.Roles.Split(new String[] { "," }, StringSplitOptions.RemoveEmptyEntries)
                    .Any(x => roles.Contains(x) || x == "All")
                    select item;
        foreach (var link in links)
        {
            @:
            <li class="menuItem"> @Html.ActionLink(link.LinkText, link.ActionName, link.ControllerName)</li>
        }
        
    }
    else
    {
        var links = from item in menus
                    where item.Roles.Split(new String[] { "," }, StringSplitOptions.RemoveEmptyEntries)
                    .Any(x => new String[] { "All", "Anonymous" }.Contains(x))
                    select item;
        foreach (var link in links)
        {
            @:
            <li> @Html.ActionLink(link.LinkText, link.ActionName, link.ControllerName)</li>
        }
    }
</ul> 